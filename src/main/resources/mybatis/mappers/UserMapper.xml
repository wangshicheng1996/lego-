<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="lego.mapper.UserMapper">
<!-- 查询用户表 -->
	 <select id="findUserByUP" resultType="userRM">
	 select * from user where username=#{}
	 </select>
	 <!-- 
		autoMapping="true"  主表对象能够完成自动映射  
		1.字段与属性一致
		2.驼峰映射     user_id~~~~userId
		杠杠 在映射文件中有特殊含义 注释中不要写
	 -->
	<resultMap type="User" id="userRM" autoMapping="true">
		<id column="user_id" property="userId"/>
		<association property="userInfo" javaType="UserInfo" resultMap="infoRM"/>
		
	</resultMap>
	<!--为了封装userInfo的结果集  -->
	<resultMap type="UserInfo" id="infoRM" autoMapping="true">
		<id column="user_info_id" property="userInfoId"/>	
		<association property="manager" javaType="lego.pojo.UserInfo">
			<id column="" property="userInfoId"/>
			<result column="" property="name"/>
		</association>
	</resultMap>
	
	<insert id="saveUser">
		insert into user(user_id,username,password,permission_id,address_id,remark) values(
		#{},#{},#{},#{},#{},#{}
		)
	
	</insert>
	
	
</mapper>
